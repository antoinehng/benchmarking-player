<!doctype html>
<html>
    <head>
        <title>hls.js Rocks</title>
        <script src="../../players/hls.js/dist/hls.js"></script>
        <script src="http://cdn.streamroot.io/hlsjs-p2p-wrapper/stable/hlsjs-p2p-wrapper.js"></script>

            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/rickshaw/1.4.6/rickshaw.min.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
            <link rel="stylesheet" href="https://streamroot-prod-eu.s3.amazonaws.com/ui/dist/streamroot.min.css">
            <script src="//cdnjs.cloudflare.com/ajax/libs/rickshaw/1.4.6/rickshaw.min.js"> </script>
            <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.9/d3.min.js"> </script>
            <script src="../assets/p2pGraph.js"></script>
    </head>
    <body>
        <video id="video" controls height="360px" width="540px"></video>
        <div width="200" id="p2pGraph"></div>
        <script>
          var hlsjsConfig = {};
          var p2pConfig = {
            streamrootKey: "demoswebsiteandpartners",
            //rangeRequestEnabled: false,
            debug: true,
          }

          if(Hls.isSupported()) {
            var wrapper = new HlsjsP2PWrapper(Hls);
            var video = document.getElementById('video');
            //var hls = new Hls();
            var hls = wrapper.createPlayer(hlsjsConfig, p2pConfig);
            hls.loadSource('//wowza-cloudfront.streamroot.io/liveorigin/stream4/playlist.m3u8');
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED,function(event, data) {
              video.play();
          });
         }
        </script>
    </body>
</html>







